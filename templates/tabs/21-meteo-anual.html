<form id="fMeteoAnalisis" name="anual_pais" action="{{API_ENDPOINT}}anual_pais" method="POST" data-resultado="Resultado Análisis" data-idprefix="meteo_anual_">

<h1 class="sidebar-header">
  <span>Predicción o análisis anual</span>
  <span class="sidebar-expand" title="Ensanchar el panel"><i class="fa fa-angle-double-right"></i></span>
  <span class="sidebar-contract" title="Restaurar el ancho del panel"><i class="fa fa-angle-double-left"></i></span>
</h1>

<fieldset>
  <legend>Target</legend>
  <label for="Target" class="hide">Target:</label>
  <select id="Target" name="target" required data-desmarcar=".anual_predictores input[type='checkbox']" style="width: 100%;" data-marca-if=".set_meteo_param" class="target_meteo">
      <option/>
      <option value="0" data-marcar=".predic_super[type='checkbox']">Superficie quemada</option>
      <option value="1" data-marcar=".predic_incen[type='checkbox']">Número de incendios</option>
      <option value="2" data-marcar=".predic_super[type='checkbox'], .predic_incen[type='checkbox']">Ambos</option>
  </select>
  <input type="checkbox" name="set_meteo_param" id="set_meteo_param" value="1" class="set_meteo_param" data-fire-change=".target_meteo" data-hide=".anual_predictores input[type='checkbox']">
  <label for="set_meteo_param">Usar <u>solo</u> predictores óptimos para el target seleccionado</label>
</fieldset>

<fieldset class="fLabelInput anual_predictores">
  <legend>Predictores</legend>
  {% include 'common/meteo_param.html' %}
  <button type="button" name="set_meteo_param_val">Rellenar con datos del año pasado</button>
</fieldset>

<fieldset class="fOneField">
  <legend>Reg. Ridge (α)</legend>
  <label for="Ridge" class="hide">Reg. Ridge (α):</label><input type="number" id="Ridge" name="ridge">
</fieldset>

<select id="predecir_o_analizar" data-hide="div.grupo_predecir_o_analizar > *" class="fullwidth">
  <option/>
  <option data-show=".grupo_predecir">Predecir</option>
  <option data-show=".grupo_analizar">Analizar</option>
</select>

<div class="grupo_predecir_o_analizar">
  <fieldset class="fOneField grupo_predecir grupo_analizar">
    <legend>Años para crear el modelo</legend>
    <label for="rango_temporal" class="hide">Años para crear el modelo:</label>
    <select id="rango_temporal" name="rango_temporal[]" required multiple="multiple" data-opuesto=".rango_temporal_evaluar" class="fullsize">
        {% for y in range(2006, now.year) %}
          <option value="{{y}}">{{y}}</option>
        {% endfor %}
    </select>
  </fieldset>

  <fieldset class="fOneField grupo_analizar">
    <legend>Años para evaluar el modelo</legend>
    <label for="rango_temporal_evaluar" class="hide">Años para evaluar el modelo:</label>
    <select id="rango_temporal_evaluar" name="rango_temporal_evaluar[]" required multiple="multiple" class="rango_temporal_evaluar fullsize">
        {% for y in range(2006, now.year) %}
          <option value="{{y}}">{{y}}</option>
        {% endfor %}
    </select>
  </fieldset>

  <input class="grupo_predecir" data-defval="Predecir" type="submit" value="Predecir" formaction="{{API_ENDPOINT}}anual_pais_predecir" data-opcional=".rango_temporal_evaluar">

  <input class="grupo_analizar" data-defval="Analizar" type="submit" value="Analizar" formaction="{{API_ENDPOINT}}anual_pais_analizar" data-obligatorio=".rango_temporal_evaluar">
</div>

</form>
